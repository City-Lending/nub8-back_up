{
  "Resources": {
    "CustomResourceHandlerServiceRole41AEC181": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "CustomResourceHandlerE8FB56BA": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "887c47db9341c0dc018c2aa3166eb283b3bf5a01ec7747354c0045e22765dc0a.zip"
        },
        "Handler": "index.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "CustomResourceHandlerServiceRole41AEC181",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 900
      },
      "DependsOn": [
        "CustomResourceHandlerServiceRole41AEC181"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackApi37FBEF5A": {
      "Type": "AWS::ApiGatewayV2::Api",
      "Properties": {
        "CorsConfiguration": {
          "AllowCredentials": false,
          "AllowHeaders": [
            "*"
          ],
          "AllowMethods": [
            "*"
          ],
          "AllowOrigins": [
            "*"
          ]
        },
        "Name": "dev-citylending-intelligent-document-ApiStack",
        "ProtocolType": "HTTP",
        "Tags": {
          "sst:app": "citylending-intelligent-document",
          "sst:name": "citylending-intelligent-document",
          "sst:stage": "dev"
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackApiDefaultStageA4C8533F": {
      "Type": "AWS::ApiGatewayV2::Stage",
      "Properties": {
        "AccessLogSettings": {
          "DestinationArn": {
            "Fn::GetAtt": [
              "ApiStackLogGroupA87A5BB1",
              "Arn"
            ]
          },
          "Format": "{\"requestTime\":\"$context.requestTime\",\"requestId\":\"$context.requestId\",\"httpMethod\":\"$context.httpMethod\",\"path\":\"$context.path\",\"routeKey\":\"$context.routeKey\",\"status\":$context.status,\"responseLatency\":$context.responseLatency,\"integrationRequestId\":\"$context.integration.requestId\",\"integrationStatus\":\"$context.integration.status\",\"integrationLatency\":\"$context.integration.latency\",\"integrationServiceStatus\":\"$context.integration.integrationStatus\",\"ip\":\"$context.identity.sourceIp\",\"userAgent\":\"$context.identity.userAgent\"}"
        },
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AutoDeploy": true,
        "StageName": "$default",
        "Tags": {
          "sst:app": "citylending-intelligent-document",
          "sst:name": "citylending-intelligent-document",
          "sst:stage": "dev"
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackApilambda5817DA72": {
      "Type": "AWS::ApiGatewayV2::Authorizer",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizerPayloadFormatVersion": "2.0",
        "AuthorizerResultTtlInSeconds": 0,
        "AuthorizerType": "REQUEST",
        "AuthorizerUri": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":apigateway:us-east-1:lambda:path/2015-03-31/functions/",
              {
                "Fn::ImportValue": "dev-citylending-intelligent-document-AuthStack:ExportsOutputFnGetAttLambdaAuthorizerB5870E9BArnF5B55917"
              },
              "/invocations"
            ]
          ]
        },
        "EnableSimpleResponses": true,
        "IdentitySource": [
          "$request.header.Authorization"
        ],
        "Name": "lambda"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackApidevcitylendingintelligentdocumentApiStackApilambda42792CF2Permission99ED8C38": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::ImportValue": "dev-citylending-intelligent-document-AuthStack:ExportsOutputFnGetAttLambdaAuthorizerB5870E9BArnF5B55917"
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/authorizers/",
              {
                "Ref": "ApiStackApilambda5817DA72"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLogGroupA87A5BB1": {
      "Type": "AWS::Logs::LogGroup",
      "Properties": {
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/vendedlogs/apis/dev-citylending-intelligent-document-ApiStack-",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/default"
            ]
          ]
        },
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentTypeServiceRoleFF1BC7AE": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentTypeServiceRoleDefaultPolicyB1C5B2B6": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaPOSTdocumentTypeServiceRoleDefaultPolicyB1C5B2B6",
        "Roles": [
          {
            "Ref": "ApiStackLambdaPOSTdocumentTypeServiceRoleFF1BC7AE"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentType4E2EBE00": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "41f21d558eedda25afb48dc4dc613098031e88b0f07874f9876d3507b4289c9d.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/documentType/create.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTdocumentTypeServiceRoleFF1BC7AE",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaPOSTdocumentTypeServiceRoleDefaultPolicyB1C5B2B6",
        "ApiStackLambdaPOSTdocumentTypeServiceRoleFF1BC7AE"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentTypeLogRetention554205A7": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaPOSTdocumentType4E2EBE00"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTdocumentTypeIntegrationPOSTdocumentType279F0556": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTdocumentType4E2EBE00",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTdocumentTypeIntegrationPOSTdocumentTypePermissionD75FF6F3": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTdocumentType4E2EBE00",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/documentType"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTdocumentType246C8158": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "POST /documentType",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRoutePOSTdocumentTypeIntegrationPOSTdocumentType279F0556"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypeServiceRoleFEB683A7": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypeServiceRoleDefaultPolicyE0DD5847": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaGETdocumentTypeServiceRoleDefaultPolicyE0DD5847",
        "Roles": [
          {
            "Ref": "ApiStackLambdaGETdocumentTypeServiceRoleFEB683A7"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypeBEECA321": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "b4c456e8942e8a559119e2662802dc41d634a12eac8aa4fc3f743d4910a9460f.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/documentType/list.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentTypeServiceRoleFEB683A7",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaGETdocumentTypeServiceRoleDefaultPolicyE0DD5847",
        "ApiStackLambdaGETdocumentTypeServiceRoleFEB683A7"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypeLogRetention7D16F885": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaGETdocumentTypeBEECA321"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentTypeIntegrationGETdocumentTypeF24548E0": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentTypeBEECA321",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentTypeIntegrationGETdocumentTypePermissionD0408EA5": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentTypeBEECA321",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/documentType"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentType06CD68E6": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "GET /documentType",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteGETdocumentTypeIntegrationGETdocumentTypeF24548E0"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypeidServiceRole4C6E8734": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypeidServiceRoleDefaultPolicy2D46F930": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaGETdocumentTypeidServiceRoleDefaultPolicy2D46F930",
        "Roles": [
          {
            "Ref": "ApiStackLambdaGETdocumentTypeidServiceRole4C6E8734"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypeid6165F2E0": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "8af75e7ecfe0603b6904a722c1b38a9959982aae5cbdd53856b6be65c5713587.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/documentType/get.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentTypeidServiceRole4C6E8734",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaGETdocumentTypeidServiceRoleDefaultPolicy2D46F930",
        "ApiStackLambdaGETdocumentTypeidServiceRole4C6E8734"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypeidLogRetention6F71BE1D": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaGETdocumentTypeid6165F2E0"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentTypeidIntegrationGETdocumentTypeid9F261470": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentTypeid6165F2E0",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentTypeidIntegrationGETdocumentTypeidPermissionA5DF29A6": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentTypeid6165F2E0",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/documentType/{id}"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentTypeidD4C827AC": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "GET /documentType/{id}",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteGETdocumentTypeidIntegrationGETdocumentTypeid9F261470"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTdocumentTypeidServiceRole01189781": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTdocumentTypeidServiceRoleDefaultPolicy4FB62F63": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaPUTdocumentTypeidServiceRoleDefaultPolicy4FB62F63",
        "Roles": [
          {
            "Ref": "ApiStackLambdaPUTdocumentTypeidServiceRole01189781"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTdocumentTypeidF9900457": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "e1e10356f2d040c07d82a60f21d96ebc4d749065bd1fad79ff991b41a1737bd7.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/documentType/update.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaPUTdocumentTypeidServiceRole01189781",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaPUTdocumentTypeidServiceRoleDefaultPolicy4FB62F63",
        "ApiStackLambdaPUTdocumentTypeidServiceRole01189781"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTdocumentTypeidLogRetentionBF2D7B42": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaPUTdocumentTypeidF9900457"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePUTdocumentTypeidIntegrationPUTdocumentTypeidE43AA44B": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaPUTdocumentTypeidF9900457",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePUTdocumentTypeidIntegrationPUTdocumentTypeidPermissionE9F1E169": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaPUTdocumentTypeidF9900457",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/documentType/{id}"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePUTdocumentTypeid91F86941": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "PUT /documentType/{id}",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRoutePUTdocumentTypeidIntegrationPUTdocumentTypeidE43AA44B"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEdocumentTypeidversionServiceRole53EF8B7D": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEdocumentTypeidversionServiceRoleDefaultPolicy50959F6A": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaDELETEdocumentTypeidversionServiceRoleDefaultPolicy50959F6A",
        "Roles": [
          {
            "Ref": "ApiStackLambdaDELETEdocumentTypeidversionServiceRole53EF8B7D"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEdocumentTypeidversionA95E3B40": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "c6da48a0e9fe2907e4ca3c0fcf489cbeac8726362e4d38fca338e949fca64b26.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/documentType/remove.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaDELETEdocumentTypeidversionServiceRole53EF8B7D",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaDELETEdocumentTypeidversionServiceRoleDefaultPolicy50959F6A",
        "ApiStackLambdaDELETEdocumentTypeidversionServiceRole53EF8B7D"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEdocumentTypeidversionLogRetentionAF1DE42F": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaDELETEdocumentTypeidversionA95E3B40"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteDELETEdocumentTypeidversionIntegrationDELETEdocumentTypeidversion5E03C08E": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaDELETEdocumentTypeidversionA95E3B40",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteDELETEdocumentTypeidversionIntegrationDELETEdocumentTypeidversionPermission764ED646": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaDELETEdocumentTypeidversionA95E3B40",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/documentType/{id}/{version}"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteDELETEdocumentTypeidversion0C93C22E": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "DELETE /documentType/{id}/{version}",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteDELETEdocumentTypeidversionIntegrationDELETEdocumentTypeidversion5E03C08E"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentServiceRole4F537EA0": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentServiceRoleDefaultPolicyD2C7D691": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaPOSTdocumentServiceRoleDefaultPolicyD2C7D691",
        "Roles": [
          {
            "Ref": "ApiStackLambdaPOSTdocumentServiceRole4F537EA0"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentAD1449C6": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "d5f156ce76fd9c0f89f1f5f7041902521e05edec9af052124cd6b5e37f527fe6.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/document/create.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTdocumentServiceRole4F537EA0",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaPOSTdocumentServiceRoleDefaultPolicyD2C7D691",
        "ApiStackLambdaPOSTdocumentServiceRole4F537EA0"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentLogRetentionF8E96120": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaPOSTdocumentAD1449C6"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTdocumentIntegrationPOSTdocument10654046": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTdocumentAD1449C6",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTdocumentIntegrationPOSTdocumentPermission5B2DF3AB": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTdocumentAD1449C6",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/document"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTdocumentB57955C2": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "POST /document",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRoutePOSTdocumentIntegrationPOSTdocument10654046"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentServiceRoleD9C91080": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentServiceRoleDefaultPolicy2507AFD0": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaGETdocumentServiceRoleDefaultPolicy2507AFD0",
        "Roles": [
          {
            "Ref": "ApiStackLambdaGETdocumentServiceRoleD9C91080"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocument62873596": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "deec078f1503a875f4b77e50a88af36427174d5c91fe5e831883d4913b6cf3bc.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/document/list.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentServiceRoleD9C91080",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaGETdocumentServiceRoleDefaultPolicy2507AFD0",
        "ApiStackLambdaGETdocumentServiceRoleD9C91080"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentLogRetention930110C4": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaGETdocument62873596"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentIntegrationGETdocument104D7A48": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocument62873596",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentIntegrationGETdocumentPermission396BD35D": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocument62873596",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/document"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocument42116EA4": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "GET /document",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteGETdocumentIntegrationGETdocument104D7A48"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentidServiceRoleD2312EA9": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentidServiceRoleDefaultPolicy2CFA7FC2": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaGETdocumentidServiceRoleDefaultPolicy2CFA7FC2",
        "Roles": [
          {
            "Ref": "ApiStackLambdaGETdocumentidServiceRoleD2312EA9"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentidDB342F2F": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "3461a13d083c69463afcdc1ddc6c1861776c9b83bbeeb52c1eeee7b9accfd577.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/document/get.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentidServiceRoleD2312EA9",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaGETdocumentidServiceRoleDefaultPolicy2CFA7FC2",
        "ApiStackLambdaGETdocumentidServiceRoleD2312EA9"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentidLogRetention063DB755": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaGETdocumentidDB342F2F"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentidIntegrationGETdocumentid82434F2D": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentidDB342F2F",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentidIntegrationGETdocumentidPermissionE05AB20D": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentidDB342F2F",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/document/{id}"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentid742F6FED": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "GET /document/{id}",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteGETdocumentidIntegrationGETdocumentid82434F2D"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTdocumentidServiceRole0406C601": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTdocumentidServiceRoleDefaultPolicyED7ACF67": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaPUTdocumentidServiceRoleDefaultPolicyED7ACF67",
        "Roles": [
          {
            "Ref": "ApiStackLambdaPUTdocumentidServiceRole0406C601"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTdocumentidF564A026": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "65eb85d717bef205307164715feb4a1fb89c503570f4fa99deb58a6dd57cb1f3.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/document/update.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaPUTdocumentidServiceRole0406C601",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaPUTdocumentidServiceRoleDefaultPolicyED7ACF67",
        "ApiStackLambdaPUTdocumentidServiceRole0406C601"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTdocumentidLogRetention290DF997": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaPUTdocumentidF564A026"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePUTdocumentidIntegrationPUTdocumentidF173DDDB": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaPUTdocumentidF564A026",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePUTdocumentidIntegrationPUTdocumentidPermission545A57D8": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaPUTdocumentidF564A026",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/document/{id}"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePUTdocumentid370E05C0": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "PUT /document/{id}",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRoutePUTdocumentidIntegrationPUTdocumentidF173DDDB"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEdocumentidversionServiceRole9669532E": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEdocumentidversionServiceRoleDefaultPolicy2E8E56D1": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaDELETEdocumentidversionServiceRoleDefaultPolicy2E8E56D1",
        "Roles": [
          {
            "Ref": "ApiStackLambdaDELETEdocumentidversionServiceRole9669532E"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEdocumentidversion73533F73": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "89eb72de347b35cdc08f6ebe44d8602ee7d423abaa8a6a68876099ad3a611dcd.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/document/remove.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaDELETEdocumentidversionServiceRole9669532E",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaDELETEdocumentidversionServiceRoleDefaultPolicy2E8E56D1",
        "ApiStackLambdaDELETEdocumentidversionServiceRole9669532E"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEdocumentidversionLogRetentionF34B8BAE": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaDELETEdocumentidversion73533F73"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteDELETEdocumentidversionIntegrationDELETEdocumentidversion9CCB6CE9": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaDELETEdocumentidversion73533F73",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteDELETEdocumentidversionIntegrationDELETEdocumentidversionPermission22D06F51": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaDELETEdocumentidversion73533F73",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/document/{id}/{version}"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteDELETEdocumentidversionC7E30BBD": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "DELETE /document/{id}/{version}",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteDELETEdocumentidversionIntegrationDELETEdocumentidversion9CCB6CE9"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentdetailsServiceRole4AD5DFEC": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentdetailsServiceRoleDefaultPolicyD0674245": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "ssm:GetParameters",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":ssm:us-east-1:443216489626:parameter/sst/citylending-intelligent-document/dev/Secret/API_KEY/value"
                    ]
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":ssm:us-east-1:443216489626:parameter/sst/citylending-intelligent-document/.fallback/Secret/API_KEY/value"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaGETdocumentdetailsServiceRoleDefaultPolicyD0674245",
        "Roles": [
          {
            "Ref": "ApiStackLambdaGETdocumentdetailsServiceRole4AD5DFEC"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentdetails1601B191": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "8e1ba131bbf7c0ba4b1990e17f53d40c8d50c4b5570faafaeb9f98dbefcb2f04.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            },
            "SST_Secret_value_API_KEY": "__FETCH_FROM_SSM__"
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/document/getDetails.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentdetailsServiceRole4AD5DFEC",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaGETdocumentdetailsServiceRoleDefaultPolicyD0674245",
        "ApiStackLambdaGETdocumentdetailsServiceRole4AD5DFEC"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentdetailsLogRetention736E60F3": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaGETdocumentdetails1601B191"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentdetailsIntegrationGETdocumentdetails1B2B51BD": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentdetails1601B191",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentdetailsIntegrationGETdocumentdetailsPermissionC29ED462": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentdetails1601B191",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/document/details"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentdetails0B63D940": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "NONE",
        "RouteKey": "GET /document/details",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteGETdocumentdetailsIntegrationGETdocumentdetails1B2B51BD"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentpdfidServiceRole8EAC3148": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentpdfidServiceRoleDefaultPolicy7B8F4F44": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaGETdocumentpdfidServiceRoleDefaultPolicy7B8F4F44",
        "Roles": [
          {
            "Ref": "ApiStackLambdaGETdocumentpdfidServiceRole8EAC3148"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentpdfidF9CD2126": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "ab18a13f2f683aaed9fb8690b04c3f2801acff6c6ab49042f6b612994b20a793.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/document/getPdf.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentpdfidServiceRole8EAC3148",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 900,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaGETdocumentpdfidServiceRoleDefaultPolicy7B8F4F44",
        "ApiStackLambdaGETdocumentpdfidServiceRole8EAC3148"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentpdfidLogRetentionB7AA6222": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaGETdocumentpdfidF9CD2126"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentpdfidIntegrationGETdocumentpdfid2BBFBBC0": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentpdfidF9CD2126",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentpdfidIntegrationGETdocumentpdfidPermissionF33289CB": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentpdfidF9CD2126",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/document/pdf/{id}"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentpdfid5F7C942C": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "NONE",
        "RouteKey": "GET /document/pdf/{id}",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteGETdocumentpdfidIntegrationGETdocumentpdfid2BBFBBC0"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsServiceRoleCD3A1A82": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsServiceRoleDefaultPolicy4559D717": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsServiceRoleDefaultPolicy4559D717",
        "Roles": [
          {
            "Ref": "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsServiceRoleCD3A1A82"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsE8FD52F4": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "796bac656f849e2c9b31ab9a25e77f67cd0808ab47622a15d972dbb5cbdfe1c1.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/document/getByDocumentTypeId.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsServiceRoleCD3A1A82",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsServiceRoleDefaultPolicy4559D717",
        "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsServiceRoleCD3A1A82"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsLogRetentionC2B6874B": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsE8FD52F4"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentTypedocumentTypeIddocumentsIntegrationGETdocumentTypedocumentTypeIddocuments53ECBFA3": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsE8FD52F4",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentTypedocumentTypeIddocumentsIntegrationGETdocumentTypedocumentTypeIddocumentsPermissionBC4ED1D2": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsE8FD52F4",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/documentType/{documentTypeId}/documents"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETdocumentTypedocumentTypeIddocumentsC1D399A9": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "GET /documentType/{documentTypeId}/documents",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteGETdocumentTypedocumentTypeIddocumentsIntegrationGETdocumentTypedocumentTypeIddocuments53ECBFA3"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentuploadServiceRole15F23CF9": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentuploadServiceRoleDefaultPolicy969C8C8B": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaPOSTdocumentuploadServiceRoleDefaultPolicy969C8C8B",
        "Roles": [
          {
            "Ref": "ApiStackLambdaPOSTdocumentuploadServiceRole15F23CF9"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentupload2D66060E": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "89ca9989ac12a2946bee1bf31f648b73cc1d331d62951afcbecd2e1192ed92f4.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/document/upload.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTdocumentuploadServiceRole15F23CF9",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaPOSTdocumentuploadServiceRoleDefaultPolicy969C8C8B",
        "ApiStackLambdaPOSTdocumentuploadServiceRole15F23CF9"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTdocumentuploadLogRetention060ED93D": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaPOSTdocumentupload2D66060E"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTdocumentuploadIntegrationPOSTdocumentupload7F5CBFA4": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTdocumentupload2D66060E",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTdocumentuploadIntegrationPOSTdocumentuploadPermission1DA63A04": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTdocumentupload2D66060E",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/document/upload"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTdocumentupload68104C54": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "POST /document/upload",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRoutePOSTdocumentuploadIntegrationPOSTdocumentupload7F5CBFA4"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTuserServiceRole947D64A5": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTuserServiceRoleDefaultPolicy0AC20383": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaPOSTuserServiceRoleDefaultPolicy0AC20383",
        "Roles": [
          {
            "Ref": "ApiStackLambdaPOSTuserServiceRole947D64A5"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTuserA7021974": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "95f7a6e2f672381e7b19e3ddfaabdf378e9e558c87df5957b9a44e5890bcdc38.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/user/create.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTuserServiceRole947D64A5",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaPOSTuserServiceRoleDefaultPolicy0AC20383",
        "ApiStackLambdaPOSTuserServiceRole947D64A5"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTuserLogRetention211D4254": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaPOSTuserA7021974"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTuserIntegrationPOSTuser5272B089": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTuserA7021974",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTuserIntegrationPOSTuserPermissionCCE37F9F": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTuserA7021974",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/user"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTuserFC6E29E6": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "POST /user",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRoutePOSTuserIntegrationPOSTuser5272B089"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETuserServiceRole1ADE3244": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETuserServiceRoleDefaultPolicyAEDD96DA": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaGETuserServiceRoleDefaultPolicyAEDD96DA",
        "Roles": [
          {
            "Ref": "ApiStackLambdaGETuserServiceRole1ADE3244"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETuserC45EFD71": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "ce7db00508d640f88c4f3aa392fa00e87235d6b99cef0bac3af0116ae45d6ef9.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/user/list.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETuserServiceRole1ADE3244",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaGETuserServiceRoleDefaultPolicyAEDD96DA",
        "ApiStackLambdaGETuserServiceRole1ADE3244"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETuserLogRetention1DCAEA45": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaGETuserC45EFD71"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETuserIntegrationGETuserC54F0D8D": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETuserC45EFD71",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETuserIntegrationGETuserPermission3C680945": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETuserC45EFD71",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/user"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETuserA6C5F715": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "GET /user",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteGETuserIntegrationGETuserC54F0D8D"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETuseridServiceRole171AFB43": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETuseridServiceRoleDefaultPolicyB63F61C3": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaGETuseridServiceRoleDefaultPolicyB63F61C3",
        "Roles": [
          {
            "Ref": "ApiStackLambdaGETuseridServiceRole171AFB43"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETuseridDCFD7D59": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "c919afa5d3441576cffef8513dbd70840a46fd2f238081534ec13582e5434618.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/user/get.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETuseridServiceRole171AFB43",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaGETuseridServiceRoleDefaultPolicyB63F61C3",
        "ApiStackLambdaGETuseridServiceRole171AFB43"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaGETuseridLogRetentionA2149E98": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaGETuseridDCFD7D59"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETuseridIntegrationGETuserid9D25FE8C": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETuseridDCFD7D59",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETuseridIntegrationGETuseridPermissionBBDF6069": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaGETuseridDCFD7D59",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/user/{id}"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteGETuserid50366BB6": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "NONE",
        "RouteKey": "GET /user/{id}",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteGETuseridIntegrationGETuserid9D25FE8C"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTuseridServiceRole93A08727": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTuseridServiceRoleDefaultPolicy5E8C8B75": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaPUTuseridServiceRoleDefaultPolicy5E8C8B75",
        "Roles": [
          {
            "Ref": "ApiStackLambdaPUTuseridServiceRole93A08727"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTuseridD5CCE884": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "1086005646ea67d483386374de856e12f5649722093c26a19563a1f5ab9e5381.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/user/update.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaPUTuseridServiceRole93A08727",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaPUTuseridServiceRoleDefaultPolicy5E8C8B75",
        "ApiStackLambdaPUTuseridServiceRole93A08727"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPUTuseridLogRetentionC9CCD0D3": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaPUTuseridD5CCE884"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePUTuseridIntegrationPUTuserid03E3D937": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaPUTuseridD5CCE884",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePUTuseridIntegrationPUTuseridPermission8E215474": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaPUTuseridD5CCE884",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/user/{id}"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePUTuseridA190ADDF": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "PUT /user/{id}",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRoutePUTuseridIntegrationPUTuserid03E3D937"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEuseridversionServiceRoleF5E0C1D1": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEuseridversionServiceRoleDefaultPolicy530994BA": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaDELETEuseridversionServiceRoleDefaultPolicy530994BA",
        "Roles": [
          {
            "Ref": "ApiStackLambdaDELETEuseridversionServiceRoleF5E0C1D1"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEuseridversion9E7D2E27": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "2a98db8f6adcdf60e306e302d96e44ba708c5aff04c89da9deb86520fcbefc6c.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/user/remove.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaDELETEuseridversionServiceRoleF5E0C1D1",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaDELETEuseridversionServiceRoleDefaultPolicy530994BA",
        "ApiStackLambdaDELETEuseridversionServiceRoleF5E0C1D1"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaDELETEuseridversionLogRetention07F17F81": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaDELETEuseridversion9E7D2E27"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteDELETEuseridversionIntegrationDELETEuseridversion0204E14F": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaDELETEuseridversion9E7D2E27",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteDELETEuseridversionIntegrationDELETEuseridversionPermission0367B462": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaDELETEuseridversion9E7D2E27",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/user/{id}/{version}"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRouteDELETEuseridversionB0702B4C": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "CUSTOM",
        "AuthorizerId": {
          "Ref": "ApiStackApilambda5817DA72"
        },
        "RouteKey": "DELETE /user/{id}/{version}",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRouteDELETEuseridversionIntegrationDELETEuseridversion0204E14F"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTseedServiceRoleC1979D60": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTseedServiceRoleDefaultPolicyF7677030": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "xray:PutTraceSegments",
                "xray:PutTelemetryRecords"
              ],
              "Effect": "Allow",
              "Resource": "*"
            },
            {
              "Action": "dynamodb:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputFnGetAttMainTable9B409A9CArnDCC5EE42"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            },
            {
              "Action": "s3:*",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputFnGetAttBucketD7FEB781Arn29F471C4"
                      },
                      "/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "ApiStackLambdaPOSTseedServiceRoleDefaultPolicyF7677030",
        "Roles": [
          {
            "Ref": "ApiStackLambdaPOSTseedServiceRoleC1979D60"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTseed09830500": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Architectures": [
          "x86_64"
        ],
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "3514a25a179ec0ab6fa3832f74e663bd87aea403afa9c6441a8666446ece2654.zip"
        },
        "Environment": {
          "Variables": {
            "APP_NAME": "citylending-intelligent-document",
            "STAGE": "dev",
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "SST_APP": "citylending-intelligent-document",
            "SST_STAGE": "dev",
            "SST_SSM_PREFIX": "/sst/citylending-intelligent-document/dev/",
            "SST_Table_tableName_MainTable": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-DatabaseStack:ExportsOutputRefMainTable9B409A9CDFA857D7"
            },
            "SST_Bucket_bucketName_Bucket": {
              "Fn::ImportValue": "dev-citylending-intelligent-document-BucketStack:ExportsOutputRefBucketD7FEB7816C3EFDD4"
            }
          }
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "Handler": "packages/functions/src/seed.handler",
        "MemorySize": 1024,
        "Role": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTseedServiceRoleC1979D60",
            "Arn"
          ]
        },
        "Runtime": "nodejs18.x",
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ],
        "Timeout": 10,
        "TracingConfig": {
          "Mode": "Active"
        }
      },
      "DependsOn": [
        "ApiStackLambdaPOSTseedServiceRoleDefaultPolicyF7677030",
        "ApiStackLambdaPOSTseedServiceRoleC1979D60"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackLambdaPOSTseedLogRetention08C8469C": {
      "Type": "Custom::LogRetention",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A",
            "Arn"
          ]
        },
        "LogGroupName": {
          "Fn::Join": [
            "",
            [
              "/aws/lambda/",
              {
                "Ref": "ApiStackLambdaPOSTseed09830500"
              }
            ]
          ]
        },
        "SdkRetry": {
          "maxRetries": 100
        },
        "RetentionInDays": 1
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTseedIntegrationPOSTseed8BAECC12": {
      "Type": "AWS::ApiGatewayV2::Integration",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "IntegrationType": "AWS_PROXY",
        "IntegrationUri": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTseed09830500",
            "Arn"
          ]
        },
        "PayloadFormatVersion": "2.0"
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTseedIntegrationPOSTseedPermission1EA4B40B": {
      "Type": "AWS::Lambda::Permission",
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiStackLambdaPOSTseed09830500",
            "Arn"
          ]
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition"
              },
              ":execute-api:us-east-1:443216489626:",
              {
                "Ref": "ApiStackApi37FBEF5A"
              },
              "/*/*/seed"
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackRoutePOSTseed27375E16": {
      "Type": "AWS::ApiGatewayV2::Route",
      "Properties": {
        "ApiId": {
          "Ref": "ApiStackApi37FBEF5A"
        },
        "AuthorizationType": "NONE",
        "RouteKey": "POST /seed",
        "Target": {
          "Fn::Join": [
            "",
            [
              "integrations/",
              {
                "Ref": "ApiStackRoutePOSTseedIntegrationPOSTseed8BAECC12"
              }
            ]
          ]
        }
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "ApiStackParameterurlBA61C1D9": {
      "Type": "AWS::SSM::Parameter",
      "Properties": {
        "Name": "/sst/citylending-intelligent-document/dev/Api/ApiStack/url",
        "Tags": {
          "sst:app": "citylending-intelligent-document",
          "sst:name": "citylending-intelligent-document",
          "sst:stage": "dev"
        },
        "Type": "String",
        "Value": {
          "Fn::GetAtt": [
            "ApiStackApi37FBEF5A",
            "ApiEndpoint"
          ]
        }
      }
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB": {
      "Type": "AWS::IAM::Role",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com"
              }
            }
          ],
          "Version": "2012-10-17"
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition"
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ]
            ]
          }
        ],
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "logs:PutRetentionPolicy",
                "logs:DeleteRetentionPolicy"
              ],
              "Effect": "Allow",
              "Resource": "*"
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "Roles": [
          {
            "Ref": "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A": {
      "Type": "AWS::Lambda::Function",
      "Properties": {
        "Handler": "index.handler",
        "Runtime": "nodejs18.x",
        "Timeout": 900,
        "Code": {
          "S3Bucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
          "S3Key": "4e26bf2d0a26f2097fb2b261f22bb51e3f6b4b52635777b1e54edbd8e2d58c35.zip"
        },
        "Role": {
          "Fn::GetAtt": [
            "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB",
            "Arn"
          ]
        },
        "Tags": [
          {
            "Key": "sst:app",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:name",
            "Value": "citylending-intelligent-document"
          },
          {
            "Key": "sst:stage",
            "Value": "dev"
          }
        ]
      },
      "DependsOn": [
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB",
        "LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "SourcemapUploaderPolicy6476872E": {
      "Type": "AWS::IAM::Policy",
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:GetObject",
                "s3:GetObjectTagging",
                "s3:PutObject",
                "s3:PutObjectTagging"
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":s3:::cdk-hnb659fds-assets-443216489626-us-east-1/*"
                    ]
                  ]
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      "arn:",
                      {
                        "Ref": "AWS::Partition"
                      },
                      ":s3:::sstbootstrap-useast124d14e4b-ynpse6ffr8lp/*"
                    ]
                  ]
                }
              ]
            }
          ],
          "Version": "2012-10-17"
        },
        "PolicyName": "SourcemapUploaderPolicy6476872E",
        "Roles": [
          {
            "Ref": "CustomResourceHandlerServiceRole41AEC181"
          }
        ]
      },
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    },
    "SourcemapUploader": {
      "Type": "Custom::SourcemapUploader",
      "Properties": {
        "ServiceToken": {
          "Fn::GetAtt": [
            "CustomResourceHandlerE8FB56BA",
            "Arn"
          ]
        },
        "app": "citylending-intelligent-document",
        "stage": "dev",
        "tarBucket": "sstbootstrap-useast124d14e4b-ynpse6ffr8lp",
        "srcBucket": "cdk-hnb659fds-assets-443216489626-us-east-1",
        "sourcemaps": [
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaDELETEdocumentidversion73533F73",
                "Arn"
              ]
            },
            "ca07751aa272f4b8c2176a9cf29faf5fabd8d63d09bfc4686cb1ddbdb3cac369.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaDELETEdocumentTypeidversionA95E3B40",
                "Arn"
              ]
            },
            "ec7036025efdd8ec59c1a318b6d2090d1cb081c448974fb8ae0bb883edc0f8d0.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaDELETEuseridversion9E7D2E27",
                "Arn"
              ]
            },
            "a906f8d5e868aa1839012a82744692d6c5c5d160f09269ac185c87937f26bbd1.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentdetails1601B191",
                "Arn"
              ]
            },
            "b668a32a397c753358c8123d455619f66882ece2e6cc3dc6543adccf5b8f92c4.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentpdfidF9CD2126",
                "Arn"
              ]
            },
            "ef5e93d9df34300df3beaffcb702f71db19d463639a0f710633d64895f275eb1.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentidDB342F2F",
                "Arn"
              ]
            },
            "125043a30cffbcb2070fc85414c721adb6a0a2ecd2d4b5b1fd1ea9ba487c9a7a.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocument62873596",
                "Arn"
              ]
            },
            "a820c30774613963a9a500595018afd3e02361d8554a74f2f9f7f488762cb38e.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsE8FD52F4",
                "Arn"
              ]
            },
            "61cff21b8cc1086c2e90a85be9ad36dfbdfff5f9386aa1d716330c827c1f67ee.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentTypeid6165F2E0",
                "Arn"
              ]
            },
            "a02b91ebe42f3d3d08c6084c0ad5f446b2ddf46fb9689572f38916779e8181b2.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentTypeBEECA321",
                "Arn"
              ]
            },
            "68ece94c67298ab49b74950166e53cd172aae515afed58db9247f2995fdaa0ce.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETuseridDCFD7D59",
                "Arn"
              ]
            },
            "c020df35ebbadd5a6d44774b59a913322216f11d8239d97174801de2910223ae.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETuserC45EFD71",
                "Arn"
              ]
            },
            "9af889af5bea9b20c8b138279487f662ef1a216097b8803443ae6de504eec983.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPOSTdocumentupload2D66060E",
                "Arn"
              ]
            },
            "4a956d5bf30fa23bee4cebec10d0210c9517824354dfd0d3b9ab91ed0f7bd977.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPOSTdocumentAD1449C6",
                "Arn"
              ]
            },
            "60c9b025a58294835a0b3311e83f67783b45ddac35cb085ef74ff48302788fce.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPOSTdocumentType4E2EBE00",
                "Arn"
              ]
            },
            "e1ce189e4e6779f6c5458ffd985c562ebfb7afcf594e3210a051d4cabc0c9ca7.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPOSTseed09830500",
                "Arn"
              ]
            },
            "f81b20f633237272c69ee0dabee0138a6784dca048bbaf6c19c61007ff25c55b.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPOSTuserA7021974",
                "Arn"
              ]
            },
            "0eb58f01f4302fe1d6e82d8d6047a348e2eb25c0f5b70f65d973e1b80f546a54.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPUTdocumentidF564A026",
                "Arn"
              ]
            },
            "91c3536af2ea96211d86159dafb0e1da60541c316273746b0cbdb18544633286.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPUTdocumentTypeidF9900457",
                "Arn"
              ]
            },
            "7e1c13e13561809e04119b72e592f78c251047f3ec45f4425edde66d25373953.map"
          ],
          [
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPUTuseridD5CCE884",
                "Arn"
              ]
            },
            "ad1c3b530d9d3f1900eedffb86601c2f36ffaf944ee89b3bed5f9a585d53f1ee.map"
          ]
        ]
      },
      "DependsOn": [
        "SourcemapUploaderPolicy6476872E"
      ],
      "UpdateReplacePolicy": "Delete",
      "DeletionPolicy": "Delete"
    }
  },
  "Outputs": {
    "ApiEndpoint": {
      "Value": {
        "Fn::GetAtt": [
          "ApiStackApi37FBEF5A",
          "ApiEndpoint"
        ]
      }
    },
    "ApiEndpointDomain": {
      "Value": "No endpoint"
    },
    "SSTMetadata": {
      "Value": {
        "Fn::Join": [
          "",
          [
            "{\"app\":\"citylending-intelligent-document\",\"stage\":\"dev\",\"version\":\"2.43.7\",\"metadata\":[{\"id\":\"ApiStack\",\"addr\":\"c8268dd83108af66bc46965c42a40a26ebe592d772\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Api\",\"data\":{\"graphql\":false,\"url\":\"https://",
            {
              "Ref": "ApiStackApi37FBEF5A"
            },
            ".execute-api.us-east-1.",
            {
              "Ref": "AWS::URLSuffix"
            },
            "/\",\"httpApiId\":\"",
            {
              "Ref": "ApiStackApi37FBEF5A"
            },
            "\",\"routes\":[{\"type\":\"function\",\"route\":\"POST /documentType\",\"fn\":{\"node\":\"c8dca49a125c6485ccdf62a9cccaa196f9d989c64b\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"GET /documentType\",\"fn\":{\"node\":\"c8d3e6cde56f5dead77eaa0eadf050dc106a5ddc56\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"GET /documentType/{id}\",\"fn\":{\"node\":\"c869dd1647dfd94c3cfc8196d76c6fd942a2d7e08a\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"PUT /documentType/{id}\",\"fn\":{\"node\":\"c84b1cd0e668c1fc2d38058625d9b9f895e57c2f70\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"DELETE /documentType/{id}/{version}\",\"fn\":{\"node\":\"c82e594b8dcf11e3d5ced3f55ae9b0f3c5c8cb3e9f\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"POST /document\",\"fn\":{\"node\":\"c8e10589915e9199536bddd80932bdeb83e7683e42\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"GET /document\",\"fn\":{\"node\":\"c8c8630999d144871dc55f2c3b3102da068cb15777\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"GET /document/{id}\",\"fn\":{\"node\":\"c8b21756396776cac4d56ddb7af23d6d39d7d27c52\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"PUT /document/{id}\",\"fn\":{\"node\":\"c82a514faa2198a17470a793697290a6386eb86e06\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"DELETE /document/{id}/{version}\",\"fn\":{\"node\":\"c84c9d7e9e0a6a62e253c64dd83625f595d509de7d\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"GET /document/details\",\"fn\":{\"node\":\"c8b0e5a3de55ae4d1d1f9f0a886ebfdd0e9ca570c8\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"GET /document/pdf/{id}\",\"fn\":{\"node\":\"c8ce95b4cc5d2006aec8c3e9243f69326f845c7a48\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"GET /documentType/{documentTypeId}/documents\",\"fn\":{\"node\":\"c89b7cce1881685f75d1f345a534442dd3cea51185\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"POST /document/upload\",\"fn\":{\"node\":\"c8bdbb07576f1f769e7f4099a8d77032cf18687b30\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"POST /user\",\"fn\":{\"node\":\"c83fa62298716d664e8d8015968f5fbb1c698b13b8\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"GET /user\",\"fn\":{\"node\":\"c80a16b9736ad9c3643a84341bc4a3b9296f2bfa16\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"GET /user/{id}\",\"fn\":{\"node\":\"c8b05108bfd56521f833add7c67339121bfae560dc\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"PUT /user/{id}\",\"fn\":{\"node\":\"c8e62918d9dce1ecb18d5e5e8eec272e4a064dc1ec\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"DELETE /user/{id}/{version}\",\"fn\":{\"node\":\"c8db859dd08f65b7d84baf00281836c5881a288f43\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}},{\"type\":\"function\",\"route\":\"POST /seed\",\"fn\":{\"node\":\"c8f4121877524855a0502870981131a78171d001c1\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\"}}]}},{\"id\":\"Lambda_POST_--documentType\",\"addr\":\"c8dca49a125c6485ccdf62a9cccaa196f9d989c64b\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPOSTdocumentType4E2EBE00",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/documentType/create.handler\",\"localId\":\"c8dca49a125c6485ccdf62a9cccaa196f9d989c64b\",\"secrets\":[]}},{\"id\":\"Lambda_GET_--documentType\",\"addr\":\"c8d3e6cde56f5dead77eaa0eadf050dc106a5ddc56\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentTypeBEECA321",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/documentType/list.handler\",\"localId\":\"c8d3e6cde56f5dead77eaa0eadf050dc106a5ddc56\",\"secrets\":[]}},{\"id\":\"Lambda_GET_--documentType--{id}\",\"addr\":\"c869dd1647dfd94c3cfc8196d76c6fd942a2d7e08a\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentTypeid6165F2E0",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/documentType/get.handler\",\"localId\":\"c869dd1647dfd94c3cfc8196d76c6fd942a2d7e08a\",\"secrets\":[]}},{\"id\":\"Lambda_PUT_--documentType--{id}\",\"addr\":\"c84b1cd0e668c1fc2d38058625d9b9f895e57c2f70\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPUTdocumentTypeidF9900457",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/documentType/update.handler\",\"localId\":\"c84b1cd0e668c1fc2d38058625d9b9f895e57c2f70\",\"secrets\":[]}},{\"id\":\"Lambda_DELETE_--documentType--{id}--{version}\",\"addr\":\"c82e594b8dcf11e3d5ced3f55ae9b0f3c5c8cb3e9f\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaDELETEdocumentTypeidversionA95E3B40",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/documentType/remove.handler\",\"localId\":\"c82e594b8dcf11e3d5ced3f55ae9b0f3c5c8cb3e9f\",\"secrets\":[]}},{\"id\":\"Lambda_POST_--document\",\"addr\":\"c8e10589915e9199536bddd80932bdeb83e7683e42\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPOSTdocumentAD1449C6",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/document/create.handler\",\"localId\":\"c8e10589915e9199536bddd80932bdeb83e7683e42\",\"secrets\":[]}},{\"id\":\"Lambda_GET_--document\",\"addr\":\"c8c8630999d144871dc55f2c3b3102da068cb15777\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocument62873596",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/document/list.handler\",\"localId\":\"c8c8630999d144871dc55f2c3b3102da068cb15777\",\"secrets\":[]}},{\"id\":\"Lambda_GET_--document--{id}\",\"addr\":\"c8b21756396776cac4d56ddb7af23d6d39d7d27c52\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentidDB342F2F",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/document/get.handler\",\"localId\":\"c8b21756396776cac4d56ddb7af23d6d39d7d27c52\",\"secrets\":[]}},{\"id\":\"Lambda_PUT_--document--{id}\",\"addr\":\"c82a514faa2198a17470a793697290a6386eb86e06\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPUTdocumentidF564A026",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/document/update.handler\",\"localId\":\"c82a514faa2198a17470a793697290a6386eb86e06\",\"secrets\":[]}},{\"id\":\"Lambda_DELETE_--document--{id}--{version}\",\"addr\":\"c84c9d7e9e0a6a62e253c64dd83625f595d509de7d\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaDELETEdocumentidversion73533F73",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/document/remove.handler\",\"localId\":\"c84c9d7e9e0a6a62e253c64dd83625f595d509de7d\",\"secrets\":[]}},{\"id\":\"Lambda_GET_--document--details\",\"addr\":\"c8b0e5a3de55ae4d1d1f9f0a886ebfdd0e9ca570c8\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentdetails1601B191",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/document/getDetails.handler\",\"localId\":\"c8b0e5a3de55ae4d1d1f9f0a886ebfdd0e9ca570c8\",\"secrets\":[\"API_KEY\"]}},{\"id\":\"Lambda_GET_--document--pdf--{id}\",\"addr\":\"c8ce95b4cc5d2006aec8c3e9243f69326f845c7a48\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentpdfidF9CD2126",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/document/getPdf.handler\",\"localId\":\"c8ce95b4cc5d2006aec8c3e9243f69326f845c7a48\",\"secrets\":[]}},{\"id\":\"Lambda_GET_--documentType--{documentTypeId}--documents\",\"addr\":\"c89b7cce1881685f75d1f345a534442dd3cea51185\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETdocumentTypedocumentTypeIddocumentsE8FD52F4",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/document/getByDocumentTypeId.handler\",\"localId\":\"c89b7cce1881685f75d1f345a534442dd3cea51185\",\"secrets\":[]}},{\"id\":\"Lambda_POST_--document--upload\",\"addr\":\"c8bdbb07576f1f769e7f4099a8d77032cf18687b30\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPOSTdocumentupload2D66060E",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/document/upload.handler\",\"localId\":\"c8bdbb07576f1f769e7f4099a8d77032cf18687b30\",\"secrets\":[]}},{\"id\":\"Lambda_POST_--user\",\"addr\":\"c83fa62298716d664e8d8015968f5fbb1c698b13b8\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPOSTuserA7021974",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/user/create.handler\",\"localId\":\"c83fa62298716d664e8d8015968f5fbb1c698b13b8\",\"secrets\":[]}},{\"id\":\"Lambda_GET_--user\",\"addr\":\"c80a16b9736ad9c3643a84341bc4a3b9296f2bfa16\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETuserC45EFD71",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/user/list.handler\",\"localId\":\"c80a16b9736ad9c3643a84341bc4a3b9296f2bfa16\",\"secrets\":[]}},{\"id\":\"Lambda_GET_--user--{id}\",\"addr\":\"c8b05108bfd56521f833add7c67339121bfae560dc\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaGETuseridDCFD7D59",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/user/get.handler\",\"localId\":\"c8b05108bfd56521f833add7c67339121bfae560dc\",\"secrets\":[]}},{\"id\":\"Lambda_PUT_--user--{id}\",\"addr\":\"c8e62918d9dce1ecb18d5e5e8eec272e4a064dc1ec\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPUTuseridD5CCE884",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/user/update.handler\",\"localId\":\"c8e62918d9dce1ecb18d5e5e8eec272e4a064dc1ec\",\"secrets\":[]}},{\"id\":\"Lambda_DELETE_--user--{id}--{version}\",\"addr\":\"c8db859dd08f65b7d84baf00281836c5881a288f43\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaDELETEuseridversion9E7D2E27",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/user/remove.handler\",\"localId\":\"c8db859dd08f65b7d84baf00281836c5881a288f43\",\"secrets\":[]}},{\"id\":\"Lambda_POST_--seed\",\"addr\":\"c8f4121877524855a0502870981131a78171d001c1\",\"stack\":\"dev-citylending-intelligent-document-ApiStack\",\"type\":\"Function\",\"data\":{\"arn\":\"",
            {
              "Fn::GetAtt": [
                "ApiStackLambdaPOSTseed09830500",
                "Arn"
              ]
            },
            "\",\"runtime\":\"nodejs18.x\",\"handler\":\"packages/functions/src/seed.handler\",\"localId\":\"c8f4121877524855a0502870981131a78171d001c1\",\"secrets\":[]}}]}"
          ]
        ]
      }
    },
    "ExportsOutputFnGetAttApiStackApi37FBEF5AApiEndpointF2049367": {
      "Value": {
        "Fn::GetAtt": [
          "ApiStackApi37FBEF5A",
          "ApiEndpoint"
        ]
      },
      "Export": {
        "Name": "dev-citylending-intelligent-document-ApiStack:ExportsOutputFnGetAttApiStackApi37FBEF5AApiEndpointF2049367"
      }
    }
  },
  "Parameters": {
    "BootstrapVersion": {
      "Type": "AWS::SSM::Parameter::Value<String>",
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
    }
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5"
                  ],
                  {
                    "Ref": "BootstrapVersion"
                  }
                ]
              }
            ]
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
        }
      ]
    }
  }
}